<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free CDL Readiness Assessment | CDL Institute</title>
    <link rel="icon" href="assets/favicon.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css">
    <style>
        /* Base styles from guideline.md */
        body { font-family: 'Inter', system-ui, sans-serif; }
        
        /* Styles for the progressively disclosed content */
        .disclosure-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, margin-top 0.5s ease-in-out;
        }
        .disclosure-content.open {
            max-height: 500px; /* Set to a value larger than the content's expected height */
            margin-top: 1.5rem; /* Corresponds to mt-6 */
        }
        /* Helper for Tailwind config colors */
        .bg-brand-blue { background-color: #1E66FF; }
        .hover\:text-brand-blue:hover { color: #1E66FF; }
        .border-brand-blue { border-color: #1E66FF; }
    </style>
</head>
<body class="bg-white text-zinc-900 antialiased">

    <!-- REFINED Header for Assessment Funnel -->
    <header class="sticky top-0 z-50 bg-black/90 backdrop-blur-sm text-white">
        <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
          <div class="flex items-center justify-between h-16">
            
            <!-- Left Side: Logo -->
            <div class="flex items-center gap-4">
              <a href="index.html" class="flex items-center gap-3" aria-label="CDL Institute home">
                <img src="assets/shield-fill.svg" alt="CDL Institute Logo" class="h-9 w-9">
                <span class="font-bold text-lg tracking-tight text-white">CDL Institute</span>
              </a>
            </div>
            
            <!-- Right Side: State Selector (Mobile ) & Login (Desktop) -->
            <div class="flex items-center gap-6">
                <!-- GEO State Selector (Mobile - Always Visible) -->
                <div class="lg:hidden relative" id="state-dropdown-container-mobile">
                    <button id="state-selector-btn-mobile" class="flex items-center gap-1 text-zinc-300 hover:text-white transition text-sm">
                      <i class="ri-map-pin-2-line"></i>
                      <span id="selected-state-nav-mobile">California</span>
                      <i class="ri-arrow-down-s-line"></i>
                    </button>
                </div>

                <!-- Login (Desktop) -->
                <a href="auth.html" class="hidden lg:inline-flex text-sm text-zinc-300 hover:text-white transition font-medium">Login</a>
            </div>

          </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="bg-zinc-50">
        <div class="mx-auto max-w-3xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
            <!-- Hero Section -->
            <div class="text-center">
                <div class="inline-flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                  <i class="ri-shield-check-fill"></i>
                  Official FMCSA Provider #CDL-2024-0892
                </div>
                <h1 class="text-3xl font-bold tracking-tight text-zinc-900 sm:text-5xl">Find Out If You're Ready for the CDL Test</h1>
                <p class="mt-4 text-lg text-zinc-600">This isn't a pass/fail test. It's a smart diagnostic to benchmark your current knowledge and create your personalized study plan.</p>
            </div>

            <!-- What to Expect Section -->
            <div class="mt-12 rounded-2xl bg-white p-8 shadow-lg ring-1 ring-zinc-200">
                <h2 class="text-xl font-semibold text-zinc-900">Here's What to Expect</h2>
                <dl class="mt-6 space-y-6">
                    <div class="relative flex gap-x-4">
                        <div class="flex h-10 w-10 flex-none items-center justify-center rounded-lg bg-zinc-100">
                            <i class="ri-question-answer-line text-2xl text-zinc-600"></i>
                        </div>
                        <div>
                            <dt class="font-semibold text-zinc-900">Answer 20 Questions</dt>
                            <dd class="mt-1 text-zinc-600">You'll go through 20 questions covering key CDL topics. There's no timer, so take your time.</dd>
                        </div>
                    </div>
                    <div class="relative flex gap-x-4">
                        <div class="flex h-10 w-10 flex-none items-center justify-center rounded-lg bg-zinc-100">
                            <i class="ri-line-chart-line text-2xl text-zinc-600"></i>
                        </div>
                        <div>
                            <dt class="font-semibold text-zinc-900">Get Your Readiness Score</dt>
                            <dd class="mt-1 text-zinc-600">Instantly see your score and a breakdown of your strengths and weaknesses. No waiting.</dd>
                        </div>
                    </div>
                    <div class="relative flex gap-x-4">
                        <div class="flex h-10 w-10 flex-none items-center justify-center rounded-lg bg-zinc-100">
                            <i class="ri-draft-line text-2xl text-zinc-600"></i>
                        </div>
                        <div>
                            <dt class="font-semibold text-zinc-900">Unlock Your Free Study Plan</dt>
                            <dd class="mt-1 text-zinc-600">We'll use your results to build a personalized plan that helps you focus on what you need to improve.</dd>
                        </div>
                    </div>
                </dl>

                <!-- Progressive Disclosure Trigger -->
                <div class="mt-6 pt-6 border-t border-zinc-200">
                    <a href="#" id="toggle-topics" class="text-sm font-semibold text-blue-600 hover:text-blue-800">
                        Curious what's on the test? See topics covered
                        <i class="ri-arrow-down-s-line ml-1 align-middle transition-transform"></i>
                    </a>
                </div>

                <!-- Hidden Topics Content -->
                <div id="topics-content" class="disclosure-content">
                    <div class="flex flex-wrap gap-2">
                        <span class="rounded-full bg-zinc-100 px-3 py-1 text-sm font-medium text-zinc-700">General Knowledge</span>
                        <span class="rounded-full bg-zinc-100 px-3 py-1 text-sm font-medium text-zinc-700">Combination Vehicles</span>
                        <span class="rounded-full bg-zinc-100 px-3 py-1 text-sm font-medium text-zinc-700">Air Brakes</span>
                        <span class="rounded-full bg-zinc-100 px-3 py-1 text-sm font-medium text-zinc-700">Pre-Trip Inspection</span>
                        <span class="rounded-full bg-zinc-100 px-3 py-1 text-sm font-medium text-zinc-700">Hours of Service</span>
                        <span class="rounded-full bg-zinc-100 px-3 py-1 text-sm font-medium text-zinc-700">Endorsements</span>
                    </div>
                </div>
            </div>

            <!-- Static CTA for Desktop -->
            <div class="mt-12 text-center hidden sm:block">
                <a href="assessment.html" class="w-full sm:w-auto inline-flex items-center justify-center rounded-xl bg-brand-blue px-8 py-4 text-lg font-semibold text-white shadow-md hover:bg-blue-700 transition-shadow">
                    Start My Assessment
                </a>
                <p class="mt-3 text-sm text-zinc-500">Average time to complete: 10 minutes. It's 100% free.</p>
            </div>
        </div>
    </main>

    <!-- Sticky Footer CTA for Mobile -->
    <footer class="sticky bottom-0 bg-white/90 py-4 shadow-lg backdrop-blur-sm ring-1 ring-zinc-200 sm:hidden">
        <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 text-center">
            <a href="assessment.html" class="w-full sm:w-auto inline-flex items-center justify-center rounded-xl bg-brand-blue px-8 py-3 text-base font-semibold text-white shadow-md hover:bg-blue-700">
                Start My Assessment
            </a>
            <p class="mt-2 text-xs text-zinc-500">Average time to complete: 10 minutes. It's 100% free.</p>
        </div>
    </footer>
    
    <!-- State Selector Dropdown (Hidden by default, used by JS) -->
    <div id="state-dropdown" class="hidden absolute top-full mt-2 w-72 bg-white border border-zinc-200 rounded-lg shadow-lg z-50 text-zinc-900">
      <div class="p-2">
        <input type="text" id="state-search" placeholder="Search for a state..." class="w-full px-3 py-2 border border-zinc-300 rounded-md text-sm">
      </div>
      <ul id="state-list" class="max-h-60 overflow-y-auto text-sm p-1">
        <!-- States will be populated by JS -->
      </ul>
      <div class="p-2 border-t border-zinc-200">
        <a href="/requirements" class="text-sm text-blue-600 font-semibold hover:underline">View All States &rarr;</a>
      </div>
    </div>

    <script>
        // Progressive Disclosure Logic
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButton = document.getElementById('toggle-topics');
            const topicsContent = document.getElementById('topics-content');
            const arrowIcon = toggleButton.querySelector('i');

            toggleButton.addEventListener('click', function(e) {
                e.preventDefault();
                const isOpen = topicsContent.classList.toggle('open');
                arrowIcon.style.transform = isOpen ? 'rotate(180deg)' : 'rotate(0deg)';
            });
        });

        // State Selector Logic
        document.addEventListener('DOMContentLoaded', function () {
            const states = ["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];
            
            const dropdown = document.getElementById('state-dropdown');
            const searchInput = document.getElementById('state-search');
            const stateList = document.getElementById('state-list');

            function setupDropdown(button, container, stateDisplay) {
                if (!button || !container || !dropdown) return;
                
                container.appendChild(dropdown);

                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isHidden = dropdown.classList.toggle('hidden');
                    if (!isHidden) {
                        // Position dropdown relative to the button
                        const rect = button.getBoundingClientRect();
                        dropdown.style.top = `${rect.bottom + window.scrollY}px`;
                        dropdown.style.left = `${rect.left + window.scrollX}px`;
                        if (searchInput) searchInput.focus();
                    }
                });
            }

            function populateStateList(filter = '') {
                if (!stateList) return;
                stateList.innerHTML = '';
                const filteredStates = states.filter(s => s.toLowerCase().includes(filter.toLowerCase()));
                
                filteredStates.forEach(state => {
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.href = `#`; // No navigation, just state change
                    a.textContent = state;
                    a.className = 'block px-3 py-2 rounded-md hover:bg-zinc-100';
                    a.addEventListener('click', function(e) {
                        e.preventDefault();
                        document.querySelectorAll('#selected-state-nav, #selected-state-nav-mobile').forEach(el => el.textContent = state);
                        if(dropdown) dropdown.classList.add('hidden');
                    });
                    li.appendChild(a);
                    stateList.appendChild(li);
                });
            }

            // Setup for both desktop and mobile buttons
            setupDropdown(
                document.getElementById('state-selector-btn-mobile'),
                document.getElementById('state-dropdown-container-mobile'),
                document.getElementById('selected-state-nav-mobile')
            );
            
            if (searchInput) {
                searchInput.addEventListener('keyup', () => populateStateList(searchInput.value));
            }

            document.addEventListener('click', (e) => {
                const mobileContainer = document.getElementById('state-dropdown-container-mobile');
                if (mobileContainer && !mobileContainer.contains(e.target) && dropdown) {
                    dropdown.classList.add('hidden');
                }
            });

            populateStateList();
        });
    </script>

</body>
</html>
