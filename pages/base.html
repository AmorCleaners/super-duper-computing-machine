<!-- filename: base.html -->
<!--
BASE LAYOUT • CDL Institute Master Launch Blueprint (2025)
Purpose: Single cohesive HTML skeleton for ALL pages (Home, Assessment, Results, Pricing, State, Practice Tests, Compliance, Guides, About/E-A-T, Jobs, News & Tools)

Includes:
• Dark sticky header (Uber-like), mobile menu, GEO state selector
• Tailwind (CDN) + Remix Icons + reveal animations + smooth scroll
• Reusable section patterns, component class shortcuts, CTA styles
• Accessibility helpers, prefers-reduced-motion support
• SEO & Social meta, canonical, JSON-LD placeholders
• Footer with consistent IA

How to use:
1) Duplicate this file per page (e.g., index.html, assessment.html, pricing.html, california.html).
2) Keep <head>, header, footer, scripts identical for cohesion.
3) Replace “<!-- PAGE CONTENT -->” with the required Blueprint section order for that page.
4) Fill TODO blocks per page type. Do not remove compliance & authority signals.
-->

<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title><!-- TODO: Page Title -->Pass Your CDL Test on First Attempt — Guaranteed | CDL Institute</title>
    <meta name="description" content="<!-- TODO: Meta description -->Get your personalized CDL study plan and real-time readiness score. Join 25,000+ drivers who passed on their first try. Start the free assessment now." />
    <meta name="author" content="CDL Institute" />
    <link rel="icon" href="assets/favicon.png" />

    <!-- Canonical (Update per page) -->
    <link rel="canonical" href="https://cdlinstitute.com/<!-- TODO: page-path -->" />

    <!-- Open Graph -->
    <meta property="og:title" content="<!-- TODO: OG Title -->Pass Your CDL Test on First Attempt — Guaranteed" />
    <meta property="og:description" content="<!-- TODO: OG Description -->Adaptive learning, real-time readiness score, ELDT-certified. Start free—get your CDL readiness score in minutes." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cdlinstitute.com/<!-- TODO: page-path -->" />
    <meta property="og:image" content="assets/social-card.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="<!-- TODO: Twitter Title -->Pass Your CDL Test on First Attempt — Guaranteed" />
    <meta name="twitter:description" content="<!-- TODO: Twitter Description -->Adaptive learning, real-time readiness score, ELDT-certified. Start free—get your CDL readiness score in minutes." />
    <meta name="twitter:image" content="assets/social-card.png" />

    <!-- Remix Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" crossorigin="anonymous" />

    <!-- Tailwind (Play CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: ['class', '[data-theme="dark"]'],
        theme: {
          extend: {
            colors: {
              brand: {
                blue: '#1E66FF',
                green: '#10B981',
                amber: '#F59E0B',
                ink: '#0B0B0C'
              }
            },
            boxShadow: {
              'soft': '0 10px 30px -12px rgba(0,0,0,0.25)'
            },
            maxWidth: {
              '8xl': '90rem'
            },
            borderRadius: {
              '2xl': '1rem'
            }
          }
        }
      };
    </script>

    <!-- Minimal base styles & helpers -->
    <style>
      :root { color-scheme: light; }
      .container-pad { padding-left: 1rem; padding-right: 1rem; }
      @media (min-width: 768px ) { .container-pad { padding-left: 2rem; padding-right: 2rem; } }
      @media (min-width: 1280px) { .container-pad { padding-left: 3rem; padding-right: 3rem; } }

      /* Reveal on scroll */
      .reveal { opacity: 0; transform: translateY(8px); transition: opacity .6s ease, transform .6s ease; }
      .reveal.in { opacity: 1; transform: none; }
      @media (prefers-reduced-motion: reduce) {
        .reveal { transition: none; transform: none; }
      }

      /* Component shortcuts (utility-first “aliases”) */
      .card { @apply bg-white rounded-2xl border border-zinc-200 shadow-soft; }
      .card-dark { @apply bg-zinc-900 text-white rounded-2xl border border-zinc-800; }
      .btn { @apply inline-flex items-center gap-2 rounded-lg px-4 py-2 font-semibold transition; }
      .btn-primary { @apply btn bg-brand-blue text-white hover:bg-blue-600; }
      .btn-dark { @apply btn bg-zinc-900 text-white hover:bg-zinc-800; }
      .btn-ghost { @apply btn bg-transparent text-zinc-900 hover:bg-zinc-100; }
      .pill { @apply inline-flex items-center gap-2 text-sm font-semibold px-3 py-1.5 rounded-full; }
      .input { @apply w-full rounded-lg border border-zinc-300 bg-white px-3 py-2 text-sm text-zinc-900 placeholder-zinc-400; }
      .input-dark { @apply w-full rounded-lg border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-white placeholder-zinc-500; }
      .kpi { @apply text-3xl font-extrabold text-zinc-900; }
      .kpi-sub { @apply text-xs uppercase tracking-wide text-zinc-500; }
    </style>
  </head>

  <body class="bg-white text-zinc-900 antialiased">
    <!-- ===== HEADER (Sticky, dark) ===== -->
    <header class="sticky top-0 z-50 bg-black/90 backdrop-blur-sm text-white border-b border-black/20">
      <div class="mx-auto max-w-7xl container-pad">
        <div class="flex items-center justify-between h-16">
          <!-- Left: Logo + State Selector -->
          <div class="flex items-center gap-4">
            <a href="index.html" class="flex items-center gap-3" aria-label="CDL Institute home">
              <img src="assets/shield-fill.svg" alt="CDL Institute Logo" class="h-9 w-9">
              <span class="font-bold text-lg tracking-tight text-white">CDL Institute</span>
            </a>

            <!-- GEO State Selector (Desktop) -->
            <div class="hidden lg:flex relative" id="state-dropdown-container">
              <button id="state-selector-btn" class="flex items-center gap-1 text-zinc-300 hover:text-white transition text-sm" aria-haspopup="listbox" aria-expanded="false">
                <i class="ri-map-pin-2-line"></i>
                <span id="selected-state-nav">California</span>
                <i class="ri-arrow-down-s-line"></i>
              </button>
            </div>
          </div>

          <!-- Right: Nav + CTAs -->
          <div class="flex items-center gap-6">
            <nav class="hidden lg:flex items-center gap-6 text-sm font-medium" aria-label="Primary">
              <!-- Keep these anchors consistent across pages -->
              <a class="hover:text-brand-blue transition" href="/#comparison">Why Us</a>
              <a class="hover:text-brand-blue transition" href="/#practice-tests">What We Cover</a>
              <a class="hover:text-brand-blue transition" href="/pricing.html">Pricing</a>
            </nav>

            <div class="flex items-center gap-4">
              <a href="/login" class="hidden sm:inline-flex text-sm text-zinc-300 hover:text-white transition font-medium">Login</a>
              <a href="/assessment.html" class="hidden sm:inline-flex btn btn-primary">
                <i class="ri-flashlight-line"></i> Start Free Assessment
              </a>
              <!-- Mobile menu button -->
              <button class="lg:hidden inline-flex items-center justify-center h-10 w-10 rounded-lg border border-zinc-700 text-zinc-300 hover:text-white" aria-label="Toggle navigation" onclick="toggleNav()">
                <i class="ri-menu-line text-xl"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Mobile Nav -->
      <div id="mobileNav" class="lg:hidden hidden border-t border-zinc-800">
        <nav class="mx-auto max-w-7xl container-pad py-4 space-y-2 text-base" aria-label="Mobile">
          <a href="/#comparison" class="block py-2 hover:text-brand-blue">Why Us</a>
          <a href="/#practice-tests" class="block py-2 hover:text-brand-blue">What We Cover</a>
          <a href="/pricing.html" class="block py-2 hover:text-brand-blue">Pricing</a>

          <!-- State quick link -->
          <div class="pt-3 border-t border-zinc-800 mt-2">
            <a href="/requirements.html" class="flex items-center justify-between w-full py-2 text-zinc-300 hover:text-white">
              <span class="flex items-center gap-2">
                <i class="ri-map-pin-2-line"></i><span>State Requirements</span>
              </span>
              <span class="flex items-center gap-1 text-sm">
                <span id="selected-state-mobile">California</span> <i class="ri-arrow-right-s-line"></i>
              </span>
            </a>
          </div>

          <div class="pt-3 border-t border-zinc-800 mt-2 space-y-4">
            <a href="/login" class="block text-center text-zinc-300 hover:text-white">Login</a>
            <a href="/assessment.html" class="block py-3 rounded-lg bg-brand-blue text-center font-semibold text-white">Start Free Assessment</a>
          </div>
        </nav>
      </div>
    </header>

    <!-- ===== PAGE CONTENT (Replace per page type) ===== -->
    <main id="content">
      <!-- ================== HOMEPAGE ORDER (Blueprint) ==================
      Hero → Social Proof → How It Works → Features Comparison → State-Specific Section → Practice Tests → Pricing Preview → FAQ Preview → Final CTA
      Place corresponding sections here when building index.html
      -->

      <!-- ================== ASSESSMENT PAGE (Blueprint) ==================
      Intro • Trust Signals • Adaptive Quiz UI w/ Progress • CTA to Results
      -->

      <!-- ================== RESULTS PAGE (Blueprint) ==================
      Readiness Score (gauge) • Strengths & Weaknesses • Personalized Recs • CTAs
      -->

      <!-- ================== PRICING PAGE (Blueprint) ==================
      Tier Cards (Free, Premium, Premium+) • Features Grid • Testimonials • FAQ • Dual CTAs
      -->

      <!-- ================== STATE PAGE (Blueprint) ==================
      Intro (local jobs & salaries) • Step-by-step HowTo schema • Salary tables/calculators • Testing centres • Local schools/partnerships • Success stories • CTA
      -->

      <!-- ================== PRACTICE TEST PAGE (Blueprint) ==================
      Intro (value & salary boost) • Timed tests • Explanations • Score tracking • Endorsement requirements • Dual CTAs
      -->

      <!-- ================== COMPLIANCE PAGES (Blueprint) ==================
      Concise summaries • Document checklists • Official links
      -->

      <!-- ================== HOW-TO GUIDES (Blueprint) ==================
      Answer-first summary • Detailed steps • Calculators • CTA
      -->

      <!-- ================== ABOUT / E-A-T PAGES (Blueprint) ==================
      Mission • Bios • Expert credentials • Testimonials • Reviews
      -->

      <!-- ================== JOBS HUB (Blueprint) ==================
      Categories • Schema-marked Job listings • Resume/interview tools
      -->

      <!-- ================== NEWS & TOOLS (Blueprint) ==================
      Editorial summaries • Calculators (cost, salary) • Clear CTAs
      -->

      <!-- TODO: Insert page-specific sections here. Keep reveal classes on blocks that should animate. -->
      <section class="py-16">
        <div class="mx-auto max-w-7xl container-pad">
          <div class="reveal">
            <div class="pill bg-zinc-100 text-zinc-700"><i class="ri-information-line"></i> Starter Section</div>
            <h1 class="mt-4 text-3xl md:text-5xl font-extrabold tracking-tight">Replace this block with the page’s first section</h1>
            <p class="mt-3 text-zinc-600 max-w-2xl">Use the Blueprint notes above to structure this page correctly. Keep header/footer/scripts unchanged for cohesion.</p>
            <div class="mt-6 flex gap-3">
              <a href="/assessment.html" class="btn btn-primary">Take Free Assessment <i class="ri-arrow-right-line"></i></a>
              <a href="/pricing.html" class="btn btn-ghost">See Pricing</a>
            </div>
          </div>
        </div>
      </section>
      <!-- /TODO -->
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="bg-zinc-950 text-zinc-300 border-t border-zinc-800">
      <div class="mx-auto max-w-7xl container-pad py-16">
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8 text-sm">
          <div class="col-span-2 lg:col-span-1">
            <a href="/" class="flex items-center gap-3 mb-4" aria-label="CDL Institute home">
              <img src="assets/shield-fill.svg" alt="CDL Institute Logo" class="h-8 w-8">
              <span class="font-bold text-lg tracking-tight text-white">CDL Institute</span>
            </a>
            <p class="text-zinc-400 max-w-xs">CDL Institute is an approved FMCSA theory provider for all 50 states and Washington D.C.</p>
            <div class="mt-4 flex items-center gap-3 opacity-80">
              <img src="assets/federal-motor-carrier-safety-administration-provider.svg" alt="FMCSA Provider" class="h-8 w-auto">
              <img src="assets/training-provider-registry.svg" alt="Training Provider Registry" class="h-8 w-auto">
            </div>
          </div>
          <div>
            <div class="font-semibold mb-4 text-white">Training</div>
            <ul class="space-y-2">
              <li><a href="/assessment.html" class="hover:text-white">Free Assessment</a></li>
              <li><a href="/pricing.html" class="hover:text-white">Pricing</a></li>
              <li><a href="/practice-test.html" class="hover:text-white">Practice Tests</a></li>
            </ul>
          </div>
          <div>
            <div class="font-semibold mb-4 text-white">Resources</div>
            <ul class="space-y-2">
              <li><a href="/requirements-by-state.html" class="hover:text-white">State Requirements</a></li>
              <li><a href="/cdl-salary-guide.html" class="hover:text-white">Salary Guide</a></li>
              <li><a href="/endorsements.html" class="hover:text-white">Endorsements</a></li>
            </ul>
          </div>
          <div>
            <div class="font-semibold mb-4 text-white">Company</div>
            <ul class="space-y-2">
              <li><a href="/about-us.html" class="hover:text-white">About Us</a></li>
              <li><a href="/success-stories.html" class="hover:text-white">Success Stories</a></li>
              <li><a href="/faq.html" class="hover:text-white">FAQ</a></li>
              <li><a href="/contact.html" class="hover:text-white">Contact</a></li>
            </ul>
          </div>
          <div class="col-span-2 md:col-span-1">
            <div class="font-semibold mb-4 text-white">Get Updates</div>
            <form class="flex gap-2" action="#" method="post">
              <label for="email" class="sr-only">Email</label>
              <input id="email" name="email" type="email" required class="input-dark" placeholder="you@example.com" />
              <button class="btn btn-primary" type="submit">Subscribe</button>
            </form>
          </div>
        </div>
        <div class="mt-12 pt-8 border-t border-zinc-800 flex flex-col md:flex-row items-center justify-between gap-4 text-xs text-zinc-500">
          <p>© <span id="year"></span> CDL Institute LLC. All rights reserved.</p>
          <div class="flex items-center gap-4">
            <a href="/privacy-policy.html" class="hover:text-white">Privacy Policy</a>
            <a href="/terms-of-service.html" class="hover:text-white">Terms of Service</a>
            <a href="/sitemap.html" class="hover:text-white">Sitemap</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- ===== STATE SELECTOR DROPDOWN (portaled inside header container) ===== -->
    <div id="state-dropdown" class="hidden absolute top-full right-0 mt-2 w-72 bg-white border border-zinc-200 rounded-lg shadow-lg z-50 text-zinc-900">
      <div class="p-2">
        <label for="state-search" class="sr-only">Search for a state</label>
        <input type="text" id="state-search" placeholder="Search for a state..." class="w-full px-3 py-2 border border-zinc-300 rounded-md text-sm">
      </div>
      <ul id="state-list" class="max-h-60 overflow-y-auto text-sm p-1" role="listbox" aria-label="Select state">
        <!-- States populated by JS -->
      </ul>
      <div class="p-2 border-t border-zinc-200">
        <a href="/requirements-by-state.html" class="text-sm text-brand-blue font-semibold hover:underline">View All States &rarr;</a>
      </div>
    </div>

    <!-- ===== JSON-LD (templates; uncomment & customize per page) ===== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "CDL Institute",
      "url": "https://cdlinstitute.com",
      "logo": "https://cdlinstitute.com/assets/shield-fill.svg",
      "sameAs": ["https://www.facebook.com/<!-- TODO -->","https://www.linkedin.com/company/<!-- TODO -->"]
    }
    </script>
    <!--
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "url": "https://cdlinstitute.com",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://cdlinstitute.com/search?q={query}",
        "query-input": "required name=query"
      }
    }
    </script>
    -->
    <!--
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"FAQPage",
      "mainEntity":[
        {"@type":"Question","name":"<!-- Q1 -->","acceptedAnswer":{"@type":"Answer","text":"<!-- A1 -->"}}
      ]
    }
    </script>
    -->

    <!-- ===== SCRIPTS (Keep identical across pages) ===== -->
    <script>
      // Mobile nav toggle
      function toggleNav() {
        document.getElementById('mobileNav').classList.toggle('hidden');
      }

      // Smooth-scroll for hash links within the page
      document.addEventListener('click', function (e) {
        const a = e.target.closest('a[href^="#"]');
        if (!a) return;
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) {
          e.preventDefault();
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });

      // Reveal on scroll (honor reduced motion)
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (!prefersReduced && 'IntersectionObserver' in window) {
        const io = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('in');
              obs.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => io.observe(el));
      } else {
        document.querySelectorAll('.reveal').forEach(el => el.classList.add('in'));
      }

      // Year
      document.getElementById('year').textContent = new Date().getFullYear();

      // ===== Global State Selector Logic =====
      document.addEventListener('DOMContentLoaded', function () {
        const states = ["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];

        const dropdownContainer = document.getElementById('state-dropdown-container');
        const dropdown = document.getElementById('state-dropdown');
        const dropdownButton = document.getElementById('state-selector-btn');
        const stateList = document.getElementById('state-list');
        const searchInput = document.getElementById('state-search');
        const selectedStateNav = document.getElementById('selected-state-nav');
        const selectedStateMobile = document.getElementById('selected-state-mobile');

        // Portal dropdown for correct positioning
        dropdownContainer.appendChild(dropdown);

        function populateStateList(filter = '') {
          stateList.innerHTML = '';
          const filtered = states.filter(s => s.toLowerCase().includes(filter.toLowerCase()));
          filtered.forEach(state => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            const slug = state.toLowerCase().replace(/\s+/g, '-');
            a.href = `/` + slug + `.html`; // Flat URL design: /california.html
            a.textContent = state;
            a.className = 'block px-3 py-2 rounded-md hover:bg-zinc-100';
            a.setAttribute('role', 'option');
            a.addEventListener('click', function(e) {
              e.preventDefault();
              selectedStateNav.textContent = state;
              selectedStateMobile.textContent = state;
              dropdown.classList.add('hidden');
              window.location.href = this.href;
            });
            li.appendChild(a);
            stateList.appendChild(li);
          });
        }

        function toggleDropdown(open) {
          dropdown.classList.toggle('hidden', !open);
          dropdownButton.setAttribute('aria-expanded', String(open));
          if (open) searchInput.focus();
        }

        dropdownButton.addEventListener('click', (e) => {
          e.stopPropagation();
          toggleDropdown(dropdown.classList.contains('hidden'));
        });

        searchInput.addEventListener('input', () => populateStateList(searchInput.value));

        document.addEventListener('click', (e) => {
          if (!dropdownContainer.contains(e.target)) {
            toggleDropdown(false);
          }
        });

        // Initial population
        populateStateList();
      });
    </script>
  </body>
</html>
